(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{72:function(e,c,n){},73:function(e,c,n){},74:function(e,c,n){},78:function(e,c,n){},86:function(e,c,n){},87:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(24),i=n.n(t),r=(n(72),n(73),n(37)),l=(n(74),n(17)),j=(n(78),n(28)),d=Object(j.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),o=d.actions.setChannelInfo,b=function(e){return e.app.channelId},h=function(e){return e.app.channelName},u=d.reducer,m=n(3);var O=function(e){var c=e.id,n=e.channelName,a=Object(l.b)();return Object(m.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(o({channelId:c,channelName:n}))},children:Object(m.jsxs)("h4",{children:[Object(m.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},x=n(52),p=n.n(x),f=n(53),v=n.n(f),_=n(44),N=n.n(_),g=n(107),S=n(54),I=n.n(S),C=n(109),y=n(55),k=n.n(y),w=n(56),z=n.n(w),A=n(57),H=n.n(A),B=Object(j.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e,c){}}}),E=B.actions,M=E.login,G=E.logout,U=function(e){return e.user.user},D=B.reducer,J=n(30),T=J.a.initializeApp({apiKey:"AIzaSyAWJ1OZUb0qb0COoL_Zk9ClMwG4iGTNz2c",authDomain:"discord-clone-96f98.firebaseapp.com",projectId:"discord-clone-96f98",storageBucket:"discord-clone-96f98.appspot.com",messagingSenderId:"351651492333",appId:"1:351651492333:web:07fa0f977654b31b4f77e4",measurementId:"G-MN5HBNSBE4"}).firestore(),W=J.a.auth(),q=new J.a.auth.GoogleAuthProvider,L=T;var V=function(){var e=Object(l.c)(U),c=Object(a.useState)([]),n=Object(r.a)(c,2),s=n[0],t=n[1];return Object(a.useEffect)((function(){L.collection("channels").onSnapshot((function(e){t(e.docs.map((function(e){return{id:e.id,channel:e.data().channelName}})))}))}),[]),Object(m.jsxs)("div",{className:"sidebar",children:[Object(m.jsxs)("div",{className:"sidebar__top",children:[Object(m.jsx)("h3",{children:"Shivanshu"}),Object(m.jsx)(N.a,{})]}),Object(m.jsxs)("div",{className:"sidebar__channels",children:[Object(m.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(m.jsxs)("div",{className:"sidebar__header",children:[Object(m.jsx)(N.a,{}),Object(m.jsx)("h4",{children:"Text Channels"})]}),Object(m.jsx)(p.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&L.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(m.jsx)("div",{className:"sidebar__channelsList",children:s.map((function(e){var c=e.id,n=e.channel;return Object(m.jsx)(O,{id:c,channelName:n},c)}))})]}),Object(m.jsxs)("div",{className:"sidebar__voice",children:[Object(m.jsx)(v.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(m.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(m.jsx)("h3",{children:"Voice Connected"}),Object(m.jsx)("p",{children:"Stream"})]}),Object(m.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(m.jsx)(g.a,{}),Object(m.jsx)(I.a,{})]})]}),Object(m.jsxs)("div",{className:"sidebar__profile",children:[Object(m.jsx)(C.a,{onClick:function(){return W.signOut()},src:e.photo}),Object(m.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(m.jsxs)("h3",{children:["@",e.displayName]}),Object(m.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(m.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(m.jsx)(k.a,{}),Object(m.jsx)(z.a,{}),Object(m.jsx)(H.a,{})]})]})]})},Z=(n(86),n(87),n(58)),F=n.n(Z),P=n(59),R=n.n(P),K=n(60),Q=n.n(K),X=n(45),Y=n.n(X),$=n(61),ee=n.n($);var ce=function(e){var c=e.channelName;return Object(m.jsxs)("div",{className:"chatHeader",children:[Object(m.jsx)("div",{className:"chatHeader__left",children:Object(m.jsxs)("h3",{children:[Object(m.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(m.jsxs)("div",{className:"chatHeader__right",children:[Object(m.jsx)(F.a,{}),Object(m.jsx)(R.a,{}),Object(m.jsx)(Q.a,{}),Object(m.jsxs)("div",{className:"chatHeader__Search",children:[Object(m.jsx)("input",{placeholder:"Search"}),Object(m.jsx)(Y.a,{})]}),Object(m.jsx)(Y.a,{}),Object(m.jsx)(ee.a,{})]})]})},ne=n(62),ae=n.n(ne),se=n(63),te=n.n(se),ie=n(65),re=n.n(ie),le=n(64),je=n.n(le);n(88);var de=function(e){var c=e.timestamp,n=e.message,a=e.user;return Object(m.jsxs)("div",{className:"message",children:[Object(m.jsx)(C.a,{src:a.photo}),Object(m.jsxs)("div",{className:"message__info",children:[Object(m.jsxs)("h4",{children:[a.displayName,Object(m.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(m.jsx)("p",{children:n})]})]})};var oe=function(){var e=Object(l.c)(U),c=Object(l.c)(b),n=Object(l.c)(h),s=Object(a.useState)(""),t=Object(r.a)(s,2),i=t[0],j=t[1],d=Object(a.useState)([]),o=Object(r.a)(d,2),u=o[0],O=o[1];return Object(a.useEffect)((function(){c&&L.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){O(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(m.jsxs)("div",{className:"chat",children:[Object(m.jsx)(ce,{channelName:n}),Object(m.jsx)("div",{className:"chat__messages",children:u.map((function(e){return Object(m.jsx)(de,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(m.jsxs)("div",{className:"chat__input",children:[Object(m.jsx)(ae.a,{fontSize:"large"}),Object(m.jsxs)("form",{children:[Object(m.jsx)("input",{value:i,disabled:!c,onChange:function(e){return j(e.target.value)},placeholder:"Message #".concat(n)}),Object(m.jsx)("button",{onClick:function(n){n.preventDefault(),L.collection("channels").doc(c).collection("messages").add({timestamp:J.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),j("")},className:"chat__inputButton",type:"submit",children:"Send Message"})]}),Object(m.jsxs)("div",{className:"chat__inputIcons",children:[Object(m.jsx)(te.a,{fontSize:"large"}),Object(m.jsx)(je.a,{fontSize:"large"}),Object(m.jsx)(re.a,{fontSize:"large"})]})]})]})},be=(n(89),n(108));var he=function(){return Object(m.jsxs)("div",{className:"login",children:[Object(m.jsx)("div",{className:"login__logo",children:Object(m.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-5xVcW4c-jfgerd33miAZJ_9lh5nMtu3UWw&usqp=CAU",alt:""})}),Object(m.jsx)(be.a,{onClick:function(){W.signInWithPopup(q).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var ue=function(){var e=Object(l.b)(),c=Object(l.c)(U);return Object(a.useEffect)((function(){W.onAuthStateChanged((function(c){e(c?M({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):G())}))}),[e]),Object(m.jsx)("div",{className:"app",children:c?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(V,{}),Object(m.jsx)(oe,{})]}):Object(m.jsx)(he,{})})},me=Object(j.a)({reducer:{user:D,app:u}});i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(l.a,{store:me,children:Object(m.jsx)(ue,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.ac270f52.chunk.js.map